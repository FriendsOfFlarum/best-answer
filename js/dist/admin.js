(()=>{var e={472:e=>{"use strict";e.exports=flarum.extensions["fof-user-directory"]}},t={};function s(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,s),r.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";s.r(n);const e=flarum.core.compat["admin/app"];var t=s.n(e);const a=flarum.core.compat["tags/components/EditTagModal"];var r=s.n(a);const o=flarum.core.compat["common/extend"],i=flarum.core.compat["utils/Stream"];var l=s.n(i);const d=flarum.core.compat.Model;var f=s.n(d);const c=flarum.core.compat["tags/models/Tag"];var b=s.n(c);function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}const p=flarum.core.compat["admin/components/ExtensionPage"];var _=s.n(p);const g=flarum.core.compat["common/components/Button"];var h=s.n(g);const w=flarum.core.compat["common/components/Link"];var v=s.n(w),y=function(e){var s,n;function a(){return e.apply(this,arguments)||this}n=e,(s=a).prototype=Object.create(n.prototype),s.prototype.constructor=s,u(s,n);var r=a.prototype;return r.oninit=function(t){e.prototype.oninit.call(this,t),this.loading=!1},r.enableAllTags=function(){this.enable("enableAllTags")},r.enableAllReminders=function(){this.enable("enableAllReminders")},r.enable=function(e){var s=this;this.loading=!0,t().request({method:"POST",url:t().forum.attribute("apiUrl")+"/fof/best-answer/enable",body:{feature:e}}).then((function(){s.loading=!1,m.redraw()}))},r.content=function(){return[m("div",{className:"container"},m("div",{className:"BestAnswerSettingsPage"},m("div",{className:"Form"},m("div",{className:"Introduction"},m("p",null,t().translator.trans("fof-best-answer.admin.settings.introduction",{a:m(v(),{href:t().route("extension",{id:"flarum-tags"})})})),m("div",{className:"ButtonGroup"},m(h(),{className:"Button",onclick:this.enableAllTags.bind(this),loading:this.loading,disabled:this.loading,icon:"fas fa-check"},t().translator.trans("fof-best-answer.admin.settings.enable_all_tags_button")),m(h(),{className:"Button",onclick:this.enableAllReminders.bind(this),loading:this.loading,disabled:this.loading,icon:"fas fa-stopwatch"},t().translator.trans("fof-best-answer.admin.settings.enable_all_tags_reminder_button")))),m("hr",null),m("div",{className:"GeneralPreferences"},m("h3",null,t().translator.trans("fof-best-answer.admin.settings.label.general")),this.buildSettingComponent({type:"boolean",setting:"fof-best-answer.allow_select_own_post",label:t().translator.trans("fof-best-answer.admin.settings.allow_select_own_post"),help:t().translator.trans("fof-best-answer.admin.settings.allow_select_own_post_help")}),this.buildSettingComponent({type:"boolean",setting:"fof-best-answer.use_alternative_ui",label:t().translator.trans("fof-best-answer.admin.settings.use_alt_ui"),help:t().translator.trans("fof-best-answer.admin.settings.use_alt_ui_help")}),this.buildSettingComponent({type:"boolean",setting:"fof-best-answer.show_filter_dropdown",label:t().translator.trans("fof-best-answer.admin.settings.show_filter_label"),help:t().translator.trans("fof-best-answer.admin.settings.show_filter_help")}),this.buildSettingComponent({type:"number",setting:"fof-best-answer.show_max_lines",label:t().translator.trans("fof-best-answer.admin.settings.show_max_lines_label"),help:t().translator.trans("fof-best-answer.admin.settings.show_max_lines_help")}),this.buildSettingComponent({type:"flarum-tags.select-tags",setting:"fof-best-answer.select_best_answer_tags",label:t().translator.trans("fof-best-answer.admin.settings.select_best_answer_tags_label"),help:t().translator.trans("fof-best-answer.admin.settings.select_best_answer_tags_help"),options:{requireParentTag:!0,limits:{max:{primary:0}}}})),m("hr",null),m("div",{className:"Reminders"},m("h3",null,t().translator.trans("fof-best-answer.admin.settings.label.reminders")),m("p",{className:"helpText"},t().translator.trans("fof-best-answer.admin.settings.label.reminders_notice")," ",m("a",{href:"https://docs.flarum.org/console/#schedulerun",target:"_blank"},t().translator.trans("fof-best-answer.admin.settings.documentation"))),this.buildSettingComponent({type:"number",setting:"fof-best-answer.select_best_answer_reminder_days",label:t().translator.trans("fof-best-answer.admin.settings.select_best_answer_reminder_days"),placeholder:"0",min:0,help:t().translator.trans("fof-best-answer.admin.settings.select_best_answer_reminder_days_help")})),m("hr",null),m("div",{className:"AdvancedPreferences"},m("h3",null,t().translator.trans("fof-best-answer.admin.settings.label.advanced")),this.buildSettingComponent({type:"boolean",setting:"fof-best-answer.schedule_on_one_server",label:t().translator.trans("fof-best-answer.admin.settings.schedule_on_one_server"),help:t().translator.trans("fof-best-answer.admin.settings.schedule_on_one_server_help")}),this.buildSettingComponent({type:"boolean",setting:"fof-best-answer.stop_overnight",label:t().translator.trans("fof-best-answer.admin.settings.schedule_stop_overnight"),help:t().translator.trans("fof-best-answer.admin.settings.schedule_stop_overnight_help")}),this.buildSettingComponent({type:"boolean",setting:"fof-best-answer.store_log_output",label:t().translator.trans("fof-best-answer.admin.settings.schedule_log_output")})),this.submitButton())))]},a}(_());function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},x.apply(this,arguments)}t().initializers.add("fof-best-answer",(function(){var e;t().extensionData.for("fof-best-answer").registerPage(y).registerPermission({icon:"far fa-comment",label:t().translator.trans("fof-best-answer.admin.permissions.best_answer"),permission:"discussion.selectBestAnswerOwnDiscussion"},"reply").registerPermission({icon:"far fa-comment",label:t().translator.trans("fof-best-answer.admin.permissions.best_answer_not_own_discussion"),permission:"discussion.selectBestAnswerNotOwnDiscussion"},"reply"),t().initializers.has("flarum-tags")&&(b().prototype.isQnA=f().attribute("isQnA"),b().prototype.reminders=f().attribute("reminders"),(0,o.extend)(r().prototype,"oninit",(function(){this.isQnA=l()(this.tag.isQnA()||!1),this.reminders=l()(this.tag.reminders()||!1)})),(0,o.extend)(r().prototype,"fields",(function(e){e.add("qna",m("div",{className:"Form-group"},m("div",null,m("label",{className:"checkbox"},m("input",{type:"checkbox",bidi:this.isQnA}),t().translator.trans("fof-best-answer.admin.edit_tag.qna_label")))),10),e.add("reminders",m("div",{className:"Form-group"},m("div",null,m("label",{className:"checkbox"},m("input",{type:"checkbox",bidi:this.reminders}),t().translator.trans("fof-best-answer.admin.edit_tag.reminders")))))})),(0,o.extend)(r().prototype,"submitData",(function(e){e.isQnA=this.isQnA(),e.reminders=this.reminders()}))),(e=s(472))&&(0,o.override)(e.SortMap.prototype,"sortMap",(function(e){return x({},e(),{most_best_answers:"-bestAnswerCount",least_best_answers:"bestAnswerCount"})}))}),5)})(),module.exports=n})();
//# sourceMappingURL=admin.js.map